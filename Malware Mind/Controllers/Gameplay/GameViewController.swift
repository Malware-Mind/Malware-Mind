//
//  ViewController.swift
//  Malware Mind
//
//  Created by Alley Pereira on 15/03/21.
//

import UIKit
import SpriteKit

class GameViewController: UIViewController {
    
    let skView: SKView = SKView()
    
    override func loadView() {
        super.loadView()
        self.view = skView
    }
    
    override func viewDidLoad() {
        
        super.viewDidLoad()
        let scene: SKScene = GameScene(size: UIScreen.main.bounds.size)
        scene.scaleMode = .aspectFill
        NotificationCenter.default.addObserver(self, selector: #selector(quitGame(notification:)), name: NSNotification.Name(rawValue: "gameOverID"), object: nil)
        NotificationCenter.default.addObserver(self, selector: #selector(pauseGame(notification:)), name: NSNotification.Name(rawValue: "pauseGameID"), object: nil)
        self.skView.presentScene(scene)
        self.skView.showsPhysics = true
        setupNavBar()
    }
    
    private func setupNavBar() {
        self.navigationItem.hidesBackButton = true 
    }

    @objc func quitGame(notification: NSNotification) {
        self.navigationController!.popViewController(animated: true)
    }

    @objc func pauseGame(notification: NSNotification) {
        let pauseVC = PauseAlertViewController()
        self.navigationController?.pushViewController(pauseVC, animated: false)
    }
}
