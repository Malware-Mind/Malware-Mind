//
//  WormWalkState.swift
//  Malware Mind
//
//  Created by Alley Pereira on 15/03/21.
//

import Foundation
import SpriteKit
import GameplayKit

class WormWalkState: GKState {
    var entity: GKEntity

    init(_ entity: GKEntity) {
        self.entity = entity
        super.init()
    }

    var animatedSpriteComponent: AnimatedSpriteComponent? {
        self.entity.component(ofType: AnimatedSpriteComponent.self)
    }

    override func didEnter(from previousState: GKState?) {
        super.didEnter(from: previousState)
        print("State Worm")
        animatedSpriteComponent?.setAnimation(atlasName: "WormWalk")
    }

    override func update(deltaTime seconds: TimeInterval) {
        super.update(deltaTime: seconds)

//        let spriteComponent = entity.component(ofType: AnimatedSpriteComponent.self)
//        spriteComponent?.spriteNode.xScale = -1
//        spriteComponent?.spriteNode.position = CGPoint(
//            x: spriteComponent!.spriteNode.position.x + 0.8,
//            y: spriteComponent!.spriteNode.position.y
//        )
        
    }
}
