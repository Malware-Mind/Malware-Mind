//
//  IdleState.swift
//  Malware Mind
//
//  Created by Alley Pereira on 15/03/21.
//

import UIKit
import SpriteKit
import GameplayKit

class IdleState: GKState {

    var entity: GKEntity

    init(_ entity: GKEntity) {
        self.entity = entity
        super.init()
    }

    var animationComponent: AnimatedSpriteComponent? {
        self.entity.component(ofType: AnimatedSpriteComponent.self)
    }

    override func didEnter(from previousState: GKState?) {
        super.didEnter(from: previousState)

        switch entity {
        case is VirusEntity:
            animationComponent?.setAnimation(atlasName: "VirusIdle")
        default:
            animationComponent?.setAnimation(atlasName: "WormWalk")
        }
    }

}
