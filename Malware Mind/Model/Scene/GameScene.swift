//
//  GameScene.swift
//  Malware Mind
//
//  Created by Alley Pereira on 15/03/21.
//

import Foundation
import SpriteKit
import GameplayKit

class GameScene: SKScene {

    // MARK: - Camera and SKScene related properties
    lazy var sceneCamera: SKCameraNode = {
        let camera = SKCameraNode()
        camera.setScale(2)
        return camera
    }()

    let wormSpriteComponent = AnimatedSpriteComponent.init(atlasName: "WormWalk")

    let virusEntity = VirusEntity()

    override func didMove(to view: SKView) {
        super.didMove(to: view)

        guard let virusSpriteComponent = virusEntity.component(ofType: AnimatedSpriteComponent.self)?.spriteNode else {
            return
        }

        wormSpriteComponent.spriteNode.position = CGPoint(x: self.frame.midX, y: self.frame.midY)

        virusSpriteComponent.position = CGPoint(x: self.frame.midX, y: self.frame.midY + 250)

        wormSpriteComponent.setAnimation(atlasName: "WormWalk")

        self.addChild(virusSpriteComponent)
        self.addChild(wormSpriteComponent.spriteNode)
    }
}
